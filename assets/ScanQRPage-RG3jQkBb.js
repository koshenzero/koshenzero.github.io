import{q as x,r as n,j as a}from"./index-kc6QG_iO.js";import{z as j}from"./index-X9QqyjD4.js";import{p as C}from"./api-BbMQrzuK.js";import{a as E}from"./index.es-tQeXMLvz.js";import{C as h}from"./CRow-DWU1dbpX.js";import{C as g}from"./CCol-Ci_ZC45h.js";const A=()=>{let[l,I]=x(),[r,m]=n.useState(void 0),[t,u]=n.useState(void 0);n.useEffect(()=>{c(l.get("type"),l.get("id"))},[]),n.useEffect(()=>{if(r&&t){var e=localStorage.getItem("user");if(!e)return navigate("/pages/login");var s=JSON.parse(e).data;C(s.UserID,s.UserName,r,t).then(o=>{o.error?setToast(MyAlert(!0,"Error",o.error.response.data.message)):(setToast(MyAlert(!0,"Success","EquipmentBay has been updated")),m(void 0),u(void 0))})}},[r,t]);const v=e=>{c(f(e,"type"),f(e,"id"))},c=(e,s)=>{s&&((e==null?void 0:e.toLowerCase())==="area"?u(s):(e==null?void 0:e.toLowerCase())==="equipment"&&m(s))};function f(e,s){for(var o=e.split("?"),d=o[1].split("&"),i=0;i<d.length;i++){var p=d[i].split("=");if(p[0].toLowerCase()==s)return p[1]}return!1}return a.jsxs(E,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},children:[a.jsxs(h,{children:[a.jsx(g,{children:a.jsxs("h3",{children:["EquipmentID: ",r]})}),a.jsx(g,{children:a.jsxs("h3",{children:["AreaID: ",t]})})]}),a.jsx("br",{}),a.jsx(h,{children:a.jsx(j,{onResult:e=>v(e),onError:e=>console.log(e==null?void 0:e.message)})})]})};export{A as default};
