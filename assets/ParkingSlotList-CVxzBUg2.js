import{l as j,m as S,p as b,r as u,j as t}from"./index-kc6QG_iO.js";import{Z as P,u as A,M as I,a as p,d as w,G as v,I as K}from"./index.esm-COHEqBnO.js";import{b as g,J as M}from"./api-BbMQrzuK.js";import{M as m}from"./DefaultLayout-YLVpjdxr.js";import{F as E,f as L,a as N}from"./index-AZCQAnf0.js";import{d as R}from"./DeleteForever-CzBFdBpx.js";import{C as T}from"./CCol-Ci_ZC45h.js";import{a as o}from"./index.es-tQeXMLvz.js";import{C as f}from"./CButton-Ca6pIuG5.js";import"./Autocomplete-Cru0HTze.js";const O=({setToast:n})=>{const i=j(),r=S(e=>e.parkingSlotList),s=b();u.useEffect(()=>{g("",-100,1,1e4).then(e=>{i({type:"set",parkingSlotList:e.data.data})})},[]);const h=u.useMemo(()=>[{accessorKey:"ParkingID",header:"ParkingID",size:50},{accessorKey:"ParkingCode",header:"ParkingCode"},{accessorKey:"ParkingName",header:"ParkingName"},{accessorKey:"Address",header:"Address"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(T,{children:[t.jsx(E,{icon:e.getValue()==0?L:N,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),"Active"]})},{accessorKey:"Description",header:"Description"},{accessorKey:"DateCreated",header:"DateCreated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),C=e=>{window.confirm("Are you sure you want to delete this parking slot?")&&x(e.original.ParkingID)},x=e=>{var a=localStorage.getItem("user");if(a==null)return s("/pages/login");JSON.parse(a).data,e&&M(e).then(d=>{d.error?n(m(!0,"Error",d.error.response.data.message)):(g("",0,0,-100).then(y=>{i({type:"set",areaList:y.data.data})}),n(m(!1,"Success","Parking slot have been deleted")))})},l=e=>{s(typeof e=="string"?"edit/0":`edit/${e.original.ParkingID}`)},c=P({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),D=()=>{const e=v(c)(r);K(c)(e)},k=A({columns:h,data:r,renderTopToolbarCustomActions:({table:e})=>t.jsxs(o,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(f,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>l("edit"),children:"Add "}),t.jsx(f,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:D,children:"Export "})]}),enableColumnActions:!1,enableRowActions:!0,muiTablePaperProps:{elevation:0,sx:{borderRadius:"1"}},renderRowActionMenuItems:({closeMenu:e,row:a})=>[t.jsxs(p,{onClick:()=>{l(a),e()},children:[t.jsx(w,{}),"Edit"]},0),t.jsxs(p,{onClick:()=>{C(a),e()},children:[t.jsx(R,{}),"Delete"]},1)]});return t.jsx(o,{fluid:!0,children:r.length==0?t.jsx(o,{children:" No Data "}):t.jsx(I,{table:k})})};export{O as default};
