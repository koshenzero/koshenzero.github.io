import{n as b,o as I,l as v,r as u,j as t}from"./index-BC3rt2Tj.js";import{Z as S,u as w,M as A,a as p,d as E,G as M,I as K}from"./index.esm-BoPvFDnz.js";import{c as m,i as L}from"./api-CDRdZ8ug.js";import{d as N}from"./DeleteForever-9I5bkvAA.js";import{M as i}from"./DefaultLayout-BHiChobn.js";import{F as R,f as U}from"./index-BjCzOsql.js";import{C as y}from"./CCol-BO_cn80g.js";import{b as f,a as C}from"./index.es-BTvPOdxb.js";import"./cil-user-Ddrdy7PS.js";const B=({setToast:a})=>{const l=b(),s=I(e=>e.countryList),o=v();u.useEffect(()=>{m("",-100,1,1e4).then(e=>{if(!e.error){l({type:"set",countryList:e.data.data.data});return}a(i(!0,"Error",e.error.response.data.message))})},[]);const h=u.useMemo(()=>[{accessorKey:"CountryID",header:"CountryID",size:50},{accessorKey:"CountryName",header:"CountryName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(y,{children:[t.jsx(R,{icon:U,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),e.getValue()==1?"Active":"Deactive"]})},{accessorKey:"UserUpdated",header:"UserUpdated"},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),c=e=>{o(typeof e=="string"?"edit/0":`edit/${e.original.CountryID}`)},g=e=>{var r=localStorage.getItem("user");if(r==null)return o("/pages/login");JSON.parse(r).data,e.original.CountryID&&L(e.original.CountryID).then(n=>{n.error?a(i(!0,"Error",n.error.response.data.message)):(m("",-100,1,1e4).then(j=>{l({type:"set",countryList:j.data.data})}),a(i(!1,"Success","Country have been deleted")))})},d=S({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),x=()=>{const e=M(d)(s);K(d)(e)},D=w({columns:h,data:s,renderTopToolbarCustomActions:({table:e})=>t.jsxs(f,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>c("edit"),children:"Add "}),t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:x,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,renderRowActionMenuItems:({closeMenu:e,row:r})=>[t.jsxs(p,{onClick:n=>{c(r),e()},children:[t.jsx(E,{}),"Edit"]},0),t.jsxs(p,{onClick:()=>{g(r),e()},children:[t.jsx(N,{}),"Delete"]},1)]});return t.jsx(y,{children:s.length==0?t.jsx(f,{children:" No Data "}):t.jsx(A,{table:D})})};export{B as default};
