import{w as x,r as n,j as s}from"./index-BIUFc63u.js";import{z as j}from"./index-D6IoJEmS.js";import{p as C}from"./api-BbMQrzuK.js";import{b as E}from"./index.es-CdfsUffR.js";import{C as h}from"./CRow-D_GpUvUO.js";import{C as g}from"./CCol-BhTfnBda.js";const A=()=>{let[l,I]=x(),[r,m]=n.useState(void 0),[t,u]=n.useState(void 0);n.useEffect(()=>{c(l.get("type"),l.get("id"))},[]),n.useEffect(()=>{if(r&&t){var e=localStorage.getItem("user");if(!e)return navigate("/pages/login");var a=JSON.parse(e).data;C(a.UserID,a.UserName,r,t).then(o=>{o.error?setToast(MyAlert(!0,"Error",o.error.response.data.message)):(setToast(MyAlert(!0,"Success","EquipmentBay has been updated")),m(void 0),u(void 0))})}},[r,t]);const v=e=>{c(f(e,"type"),f(e,"id"))},c=(e,a)=>{a&&((e==null?void 0:e.toLowerCase())==="area"?u(a):(e==null?void 0:e.toLowerCase())==="equipment"&&m(a))};function f(e,a){for(var o=e.split("?"),d=o[1].split("&"),i=0;i<d.length;i++){var p=d[i].split("=");if(p[0].toLowerCase()==a)return p[1]}return!1}return s.jsxs(E,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},children:[s.jsxs(h,{children:[s.jsx(g,{children:s.jsxs("h3",{children:["EquipmentID: ",r]})}),s.jsx(g,{children:s.jsxs("h3",{children:["AreaID: ",t]})})]}),s.jsx("br",{}),s.jsx(h,{children:s.jsx(j,{onResult:e=>v(e),onError:e=>console.log(e==null?void 0:e.message)})})]})};export{A as default};
