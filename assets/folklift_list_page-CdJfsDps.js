import{n as L,o,r as s,j as a}from"./index-CMufVrBi.js";import{Z as f,u as y,M as j,G as A,I as C}from"./index.esm-CvQOA1Fr.js";import{A as g,f as E,d as q,c as z}from"./api-BbMQrzuK.js";import{C as t}from"./CCol-C2xyA74m.js";import{b as F,a as K}from"./index.es-7c3vaSrr.js";import{C as c}from"./CRow-PHYZmyLx.js";import{A as l,T as i}from"./Autocomplete-ylUTmCPj.js";import"./DefaultLayout-CVU3oIfw.js";import"./cil-user-Ddrdy7PS.js";const O=({setToast:M})=>{const r=L(),d=o(e=>e.equipmentsBayList),m=o(e=>e.faLabelList),p=o(e=>e.modelList),u=o(e=>e.areaList);s.useState(0),s.useState(0),s.useState(""),s.useState(0),s.useEffect(()=>{g().then(e=>{if(!e.error){r({type:"set",faLabelList:e.data.data});return}}),E("",0,0,1,1,1e4).then(e=>{r({type:"set",areaList:e.data.data})}),q("",1,1,1e4).then(e=>{if(!e.error){r({type:"set",modelList:e.data.data.data});return}}),z(0,0,1,1,1e4).then(e=>{if(!e.error){r({type:"set",equipmentsBayList:e.data.data});return}})},[]);const h=s.useMemo(()=>[{accessorKey:"EquipmentBayID",header:"No.",size:50},{accessorKey:"equipment_qr",header:"Equipment QR"},{accessorKey:"Model",header:"Equipment Model"},{accessorKey:"ChassisNo",header:"Chassis No"},{accessorKey:"bay_history",header:"Bay History"},{accessorKey:"FALabelName",header:"FALabelName"},{accessorKey:"parked_date",header:"Parked date"},{accessorKey:"AreaCode",header:"Parked by"}],[]),n=f({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),x=()=>{const e=A(n)(d);C(n)(e)},b=y({columns:h,data:d,renderTopToolbarCustomActions:({table:e})=>a.jsx(K,{onClick:x,children:"Export"})});return a.jsxs(t,{children:[a.jsxs(F,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:[a.jsxs(c,{className:"mb-3",children:[a.jsx(t,{xs:6,children:a.jsx(l,{id:"size-small-standard",size:"small",options:u,getOptionLabel:e=>e.AreaName,renderInput:e=>a.jsx(i,{...e,label:"Department",placeholder:"Department"})})}),a.jsx(t,{xs:6,children:a.jsx(l,{id:"size-small-standard",size:"small",options:p,getOptionLabel:e=>e.ModelName,renderInput:e=>a.jsx(i,{...e,label:"Equipment model",placeholder:"Equipment model"})})})]}),a.jsxs(c,{children:[a.jsx(t,{xs:6,children:a.jsx(l,{xs:6,id:"size-small-standard",size:"small",options:m,getOptionLabel:e=>e.FALabelName,renderInput:e=>a.jsx(i,{...e,label:"FA Label",placeholder:"Favorites"})})}),a.jsx(t,{xs:6,children:a.jsx(i,{label:"Remark",id:"outlined-size-small",size:"small",fullWidth:!0})})]})]}),a.jsx(j,{table:b})]})};export{O as default};
