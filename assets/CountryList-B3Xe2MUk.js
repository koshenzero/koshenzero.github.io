import{n as b,o as I,l as v,r as u,j as t}from"./index-BIUFc63u.js";import{Z as S,u as w,M as A,a as p,d as E,G as M,I as k}from"./index.esm-7l1dV6TB.js";import{o as m,u as K}from"./api-BbMQrzuK.js";import{d as L}from"./DeleteForever-_P3fYxqf.js";import{M as i}from"./DefaultLayout-BPuNFNUl.js";import{F as N,f as R,a as U}from"./index-CC4Y5u95.js";import{C as f}from"./CCol-BhTfnBda.js";import{b as y,a as C}from"./index.es-CdfsUffR.js";import"./Autocomplete-BxX3hxYe.js";import"./cil-user-Ddrdy7PS.js";const O=({setToast:a})=>{const l=b(),o=I(e=>e.countryList),s=v();u.useEffect(()=>{m("",-100,1,1e4).then(e=>{if(!e.error){l({type:"set",countryList:e.data.data.data});return}a(i(!0,"Error",e.error.response.data.message))})},[]);const h=u.useMemo(()=>[{accessorKey:"CountryID",header:"CountryID",size:50},{accessorKey:"CountryName",header:"CountryName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(f,{children:[t.jsx(N,{icon:e.getValue()==0?R:U,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),"Active"]})},{accessorKey:"UserUpdated",header:"UserUpdated"},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),c=e=>{s(typeof e=="string"?"edit/0":`edit/${e.original.CountryID}`)},g=e=>{var r=localStorage.getItem("user");if(r==null)return s("/pages/login");JSON.parse(r).data,e.original.CountryID&&K(e.original.CountryID).then(n=>{n.error?a(i(!0,"Error",n.error.response.data.message)):(m("",-100,1,1e4).then(j=>{l({type:"set",countryList:j.data.data})}),a(i(!1,"Success","Country have been deleted")))})},d=S({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),x=()=>{const e=M(d)(o);k(d)(e)},D=w({columns:h,data:o,renderTopToolbarCustomActions:({table:e})=>t.jsxs(y,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>c("edit"),children:"Add "}),t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:x,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,renderRowActionMenuItems:({closeMenu:e,row:r})=>[t.jsxs(p,{onClick:n=>{c(r),e()},children:[t.jsx(E,{}),"Edit"]},0),t.jsxs(p,{onClick:()=>{g(r),e()},children:[t.jsx(L,{}),"Delete"]},1)]});return t.jsx(f,{children:o.length==0?t.jsx(y,{children:" No Data "}):t.jsx(A,{table:D})})};export{O as default};
