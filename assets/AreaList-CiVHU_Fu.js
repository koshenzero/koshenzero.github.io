import{n as b,o as j,l as w,r as u,j as t}from"./index-BQUYc1y5.js";import{Z as v,u as I,M,a as p,d as S,G as E,I as K}from"./index.esm-DjVzSBye.js";import{j as m,m as L}from"./api-BlvfAFOo.js";import{M as f}from"./DefaultLayout-CwGb_L_k.js";import{d as N}from"./DeleteForever-b1oGWn89.js";import{b as o,a as h}from"./index.es-wYNqpc8s.js";import"./TextField-DxbH3p5H.js";import"./cil-user-Ddrdy7PS.js";const _=({setToast:n})=>{const i=b(),r=j(e=>e.areaList),s=w();u.useEffect(()=>{m("",0,0,-100,1,1e4).then(e=>{i({type:"set",areaList:e.data.data})})},[]);const x=u.useMemo(()=>[{accessorKey:"AreaID",header:"AreaID",size:50},{accessorKey:"AreaCode",header:"AreaCode"},{accessorKey:"AreaName",header:"AreaName"},{accessorKey:"Description",header:"Description"},{accessorKey:"DateCreated",header:"DateCreated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),A=e=>{window.confirm("Are you sure you want to delete this user?")&&D(e.original.AreaID)},D=e=>{var a=localStorage.getItem("user");if(!a)return s("/pages/login");JSON.parse(a).data,e&&L(e).then(d=>{d.error?n(f(!0,"Error",d.error.response.data.message)):(m("",0,0,-100,1,1e4).then(y=>{i({type:"set",areaList:y.data.data})}),n(f(!1,"Success","Area have been deleted")))})},l=e=>{s(typeof e=="string"?"edit/0":`edit/${e.original.AreaID}`)},c=v({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),g=()=>{const e=E(c)(r);K(c)(e)},C=I({columns:x,data:r,renderTopToolbarCustomActions:({table:e})=>t.jsxs(o,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(h,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>l("edit"),children:"Add "}),t.jsx(h,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:g,children:"Export "})]}),enableColumnActions:!1,enableRowActions:!0,muiTablePaperProps:{elevation:0,sx:{borderRadius:"1"}},renderRowActionMenuItems:({closeMenu:e,row:a})=>[t.jsxs(p,{onClick:()=>{l(a),e()},children:[t.jsx(S,{}),"Edit"]},0),t.jsxs(p,{onClick:()=>{A(a),e()},children:[t.jsx(N,{}),"Delete"]},1)]});return t.jsx(o,{fluid:!0,children:r.length==0?t.jsx(o,{children:" No Data "}):t.jsx(M,{table:C})})};export{_ as default};
