import{l as j,m as I,p as b,r as u,j as t}from"./index-kc6QG_iO.js";import{Z as v,u as E,M as S,a as m,d as w,G as A,I as K}from"./index.esm-COHEqBnO.js";import{d as p,E as k}from"./api-BbMQrzuK.js";import{d as L}from"./DeleteForever-CzBFdBpx.js";import{M as i}from"./DefaultLayout-YLVpjdxr.js";import{F as N,f as R,a as U}from"./index-AZCQAnf0.js";import{C as f}from"./CCol-Ci_ZC45h.js";import{a as h}from"./index.es-tQeXMLvz.js";import{C as g}from"./CButton-Ca6pIuG5.js";import"./Autocomplete-Cru0HTze.js";const O=({setToast:s})=>{const n=j(),r=I(e=>e.modelList),o=b();u.useEffect(()=>{p("",-100,1,1e4).then(e=>{if(!e.error){n({type:"set",modelList:e.data.data.data});return}s(i(!0,"Error",e.error.response.data.message))})},[]);const x=u.useMemo(()=>[{accessorKey:"ModelID",header:"ModelID",size:50},{accessorKey:"ModelName",header:"ModelName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(f,{children:[t.jsx(N,{icon:e.getValue()==0?R:U,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),"Active"]})},{accessorKey:"Description",header:"Description"},{accessorKey:"UserUpdated",header:"UserUpdated"},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),d=e=>{o(typeof e=="string"?"edit/0":`edit/${e.original.ModelID}`)},C=e=>{var a=localStorage.getItem("user");if(a==null)return o("/pages/login");JSON.parse(a).data,e.original.ModelID&&k(e.original.ModelID).then(l=>{l.error?s(i(!0,"Error",l.error.response.data.message)):(p("",-100,1,1e4).then(M=>{n({type:"set",modelList:M.data.data})}),s(i(!1,"Success","Country have been deleted")))})},c=v({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),D=()=>{const e=A(c)(r);K(c)(e)},y=E({columns:x,data:r,renderTopToolbarCustomActions:({table:e})=>t.jsxs(h,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(g,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>d("edit"),children:"Add "}),t.jsx(g,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:D,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,renderRowActionMenuItems:({closeMenu:e,row:a})=>[t.jsxs(m,{onClick:l=>{d(a),e()},children:[t.jsx(w,{}),"Edit"]},0),t.jsxs(m,{onClick:()=>{C(a),e()},children:[t.jsx(L,{}),"Delete"]},1)]});return t.jsx(f,{children:r.length==0?t.jsx(h,{children:" No Data "}):t.jsx(S,{table:y})})};export{O as default};
