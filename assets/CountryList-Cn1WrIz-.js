import{n as b,o as I,l as v,r as u,j as t}from"./index-WQ4jDpb6.js";import{Z as S,u as w,M as A,a as p,d as E,G as M,I as k}from"./index.esm-D0lZvP0S.js";import{m,s as K}from"./api-DjNeoDhA.js";import{d as L}from"./DeleteForever-LGlrwo6x.js";import{M as i}from"./DefaultLayout-DmcXjY2j.js";import{F as N,f as R,a as U}from"./index-C_yosnuK.js";import{C as f}from"./CCol-D3F1gN_M.js";import{b as y,a as C}from"./index.es-l5u6UMqL.js";import"./Autocomplete-BrbekcL0.js";import"./cil-user-Ddrdy7PS.js";const O=({setToast:a})=>{const l=b(),s=I(e=>e.countryList),o=v();u.useEffect(()=>{m("",-100,1,1e4).then(e=>{if(!e.error){l({type:"set",countryList:e.data.data.data});return}a(i(!0,"Error",e.error.response.data.message))})},[]);const h=u.useMemo(()=>[{accessorKey:"CountryID",header:"CountryID",size:50},{accessorKey:"CountryName",header:"CountryName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(f,{children:[t.jsx(N,{icon:e.getValue()==0?R:U,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),"Active"]})},{accessorKey:"UserUpdated",header:"UserUpdated"},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),c=e=>{o(typeof e=="string"?"edit/0":`edit/${e.original.CountryID}`)},g=e=>{var r=localStorage.getItem("user");if(r==null)return o("/pages/login");JSON.parse(r).data,e.original.CountryID&&K(e.original.CountryID).then(n=>{n.error?a(i(!0,"Error",n.error.response.data.message)):(m("",-100,1,1e4).then(j=>{l({type:"set",countryList:j.data.data})}),a(i(!1,"Success","Country have been deleted")))})},d=S({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),x=()=>{const e=M(d)(s);k(d)(e)},D=w({columns:h,data:s,renderTopToolbarCustomActions:({table:e})=>t.jsxs(y,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>c("edit"),children:"Add "}),t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:x,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,renderRowActionMenuItems:({closeMenu:e,row:r})=>[t.jsxs(p,{onClick:n=>{c(r),e()},children:[t.jsx(E,{}),"Edit"]},0),t.jsxs(p,{onClick:()=>{g(r),e()},children:[t.jsx(L,{}),"Delete"]},1)]});return t.jsx(f,{children:s.length==0?t.jsx(y,{children:" No Data "}):t.jsx(A,{table:D})})};export{O as default};
