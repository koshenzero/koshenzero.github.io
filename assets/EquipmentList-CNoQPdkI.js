import{n as j,o as D,l as q,r as u,j as t}from"./index-BQUYc1y5.js";import{Z as I,u as M,M as N,a as m,d as A,G as K,I as v}from"./index.esm-DjVzSBye.js";import{d as p,z as S}from"./api-BlvfAFOo.js";import{d as w}from"./DeleteForever-b1oGWn89.js";import{M as n}from"./DefaultLayout-CwGb_L_k.js";import{F as L,f as k,a as R}from"./index-EBetbWfi.js";import{C as h}from"./CCol-OSVi6w-E.js";import{b as f,a as C}from"./index.es-wYNqpc8s.js";import"./TextField-DxbH3p5H.js";import"./cil-user-Ddrdy7PS.js";const H=({setToast:a})=>{const c=j(),r=D(e=>e.equipmentList),o=q();u.useEffect(()=>{p("",-100,1,1e4).then(e=>{if(!e.error){c({type:"set",equipmentList:e.data.data});return}a(n(!0,"Error",e.error.response.data.message))})},[]);const x=u.useMemo(()=>[{accessorKey:"EquipmentID",header:"EquipmentID",size:50},{accessorKey:"ChassisNo",header:"ChassisNo"},{accessorKey:"ModelName",header:"ModelName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(h,{children:[t.jsx(L,{icon:e.getValue()==0?k:R,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),"Active"]})},{accessorKey:"ETC",header:"ETC"},{accessorKey:"FALabelName",header:"FALabelName"},{accessorKey:"MastNumber",header:"MastNumber"},{accessorKey:"UserCreated",header:"UserCreated"},{accessorKey:"UserUpdated",header:"UserUpdated"}],[]),l=e=>{o(typeof e=="string"?"edit/0":`edit/${e.original.EquipmentID}`)},g=e=>{var s=localStorage.getItem("user");if(s==null)return o("/pages/login");JSON.parse(s).data,e.original.EquipmentID&&S(e.original.EquipmentID).then(i=>{i.error?a(n(!0,"Error",i.error.response.data.message)):(p("",-100,1,1e4).then(b=>{c({type:"set",equipmentList:b.data.data})}),a(n(!1,"Success","Equipment have been deleted")))})},d=I({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),y=()=>{const e=K(d)(r);v(d)(e)},E=M({columns:x,data:r,renderTopToolbarCustomActions:({table:e})=>t.jsxs(f,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>l("edit"),children:"Add "}),t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:y,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,renderRowActionMenuItems:({closeMenu:e,row:s})=>[t.jsxs(m,{onClick:i=>{l(s),e()},children:[t.jsx(A,{}),"Edit"]},0),t.jsxs(m,{onClick:()=>{g(s),e()},children:[t.jsx(w,{}),"Delete"]},1)]});return t.jsx(h,{children:r.length==0?t.jsx(f,{children:" No Data "}):t.jsx(N,{table:E})})};export{H as default};
