import{n as x,o as n,r as a,j as t}from"./index-CBwSRH0u.js";import{Z as y,u as E,M as q,G as b,I as g}from"./index.esm-DRJBykmK.js";import{d as j,h as L,e as M}from"./api-BlvfAFOo.js";import{C as m}from"./CCol-BaLHlZSt.js";import{b as B,a as A}from"./index.es-E7Xj3oYN.js";import{C as D}from"./CRow-CHqr9wlR.js";import{A as K,T as R}from"./TextField-BAf3-FwL.js";import"./DefaultLayout-CtLS6zGp.js";import"./cil-user-Ddrdy7PS.js";const z=({setToast:l})=>{const r=x(),o=n(e=>e.equipmentsBayList),c=n(e=>e.equipmentList),[d,p]=a.useState(0);a.useEffect(()=>{j("",1,1,1e4).then(e=>{if(!e.error){r({type:"set",equipmentList:e.data.data});return}l(MyAlert(!0,"Error",e.error.response.data.message))})},[]);const u=()=>{M("",d,0,0,0,-100,1,1e4).then(e=>{if(!e.error){r({type:"set",equipmentsBayList:e.data.data});return}})},h=a.useMemo(()=>[{accessorKey:"EquipmentCode",header:"Equipment QR"},{accessorKey:"ModelName",header:"Equipment Model"},{accessorKey:"ChassisNo",header:"Chassis No"},{accessorKey:"AreaCode",header:"Current Bay"},{accessorKey:"Date_In",header:"Parked date",Cell:({cell:e})=>t.jsx("span",{children:L(e.getValue()).format("DD/MM/YYYY hh:mm")})},{accessorKey:"UserName_In",header:"Parked By"}],[]),i=y({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),f=()=>{const e=b(i)(o);g(i)(e)},C=E({columns:h,data:o,enableColumnActions:!1,enableColumnFilters:!1,enableRowNumbers:!0,renderTopToolbarCustomActions:({table:e})=>t.jsx(A,{onClick:f,children:"Export"})});return t.jsxs(m,{children:[t.jsx(B,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:t.jsx(D,{className:"mb-3",children:t.jsx(m,{xs:12,children:t.jsx(K,{id:"size-small-standard",size:"small",options:c,getOptionLabel:e=>e.EquipmentCode,onChange:(e,s)=>{p(s==null?void 0:s.EquipmentID),u()},renderInput:e=>t.jsx(R,{...e,label:"Equiment",placeholder:"Equiment"})})})})}),t.jsx(q,{table:C})]})};export{z as default};
