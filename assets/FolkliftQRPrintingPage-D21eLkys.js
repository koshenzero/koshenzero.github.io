import{r as s,l as g,m as j,j as e}from"./index-kc6QG_iO.js";import{d as R,e as I}from"./api-BbMQrzuK.js";import{M as L}from"./MyPrinter-Bh-nGtF1.js";import{M as n}from"./DefaultLayout-YLVpjdxr.js";import{a as b}from"./index.es-tQeXMLvz.js";import{C as N}from"./CRow-DWU1dbpX.js";import{C as d}from"./CCol-Ci_ZC45h.js";import{A as D,T as E}from"./Autocomplete-Cru0HTze.js";import{C as P}from"./CFormInput-DmyUmjpx.js";import{C as Q}from"./CButton-Ca6pIuG5.js";import"./CFormControlWrapper-CGiBmHpH.js";const z=({setToast:o})=>{const m=s.useRef(),p=g(),l=j(t=>t.equipmentModelList),[u,c]=s.useState(1),[a,f]=s.useState(0),[i,C]=s.useState(0),[x,h]=s.useState([]);s.useEffect(()=>{R("",1,1,1e4).then(t=>{if(!t.error){p({type:"set",equipmentModelList:t.data.data.data});return}o(n(!0,"Error",t.error.response.data.message))})},[]);const M=()=>{I(u,a).then(t=>{if(t.error){o(n(!0,"Error",t.error.response.data.message));return}h([{LinkQRCode:t.data.data.LinkQRCode,NameQRCode:t.data.data.NameQRCode}])}),C(i+1)};return e.jsxs(b,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:[e.jsxs(N,{className:"mb-3",children:[e.jsx(d,{xs:6,children:e.jsx(D,{sx:{"& .MuiOutlinedInput-root":{padding:"0px!important"}},className:"mb-3",disablePortal:!0,id:"ModelIDInput",onChange:(t,r)=>{c(r==null?void 0:r.ModelID)},options:l,getOptionLabel:t=>`${t.ModelName}`,isOptionEqualToValue:(t,r)=>(t==null?void 0:t.ModelID)===(r==null?void 0:r.ModelID),renderInput:t=>e.jsx(E,{...t})})}),e.jsx(d,{xs:6,children:e.jsx(P,{type:"text",placeholder:"Chassis No","aria-label":" input example",value:a,onChange:t=>{f(t.target.value)}})})]}),e.jsx(Q,{color:"primary",onClick:M,children:"Print"}),e.jsx("br",{}),e.jsx(L,{ref:m,qrList:x,printCount:i})]})};export{z as default};
