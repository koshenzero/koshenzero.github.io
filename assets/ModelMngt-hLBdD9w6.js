import{z as j,l as D,r as f,j as e}from"./index-BQUYc1y5.js";import{D as M,E as b}from"./api-BlvfAFOo.js";import{f as h,M as C}from"./DefaultLayout-CwGb_L_k.js";import{b as x,a as N}from"./index.es-wYNqpc8s.js";import{C as y}from"./CForm-DUNXBUgp.js";import{C as o}from"./CCol-OSVi6w-E.js";import{C as l}from"./CFormControlWrapper-tRgqBfHP.js";import{C as m}from"./CFormInput-CeSoBgL6.js";import{C as v}from"./CFormSelect-ChswjSGD.js";import"./cil-user-Ddrdy7PS.js";const O=({setToast:g})=>{const{modelid:n}=j(),d=D(),[t,c]=f.useState({ModelID:0,ModelName:"",StatusID:"",Description:""});f.useEffect(()=>{n&&n!=0&&M(n).then(r=>{if(r.error){d(h,{isErrorMessage:!0,message:"Something went wrong. Try again later."});return}else r.data.data.IsEdit=!0,c(r.data.data)})},[]);const s=r=>{const{name:i,value:a}=r.target;c({...t,[i]:a})},I=r=>{const i=r.currentTarget;r.preventDefault(),i.checkValidity()===!1&&r.stopPropagation();var a=localStorage.getItem("user");if(a==null)return d(LOGIN_URL);var u=JSON.parse(a).data;b(u.UserID,u.UserName,t.ModelID,t.ModelName,t.StatusID,t.Description).then(p=>{if(p.error)g(C(!0,"Error",p.error.response.data.message));else{d(h,{state:{isErrorMessage:!1,message:t.IsEdit?"Model has been updated":"Model has been created"}});return}})};return e.jsxs("div",{children:[e.jsx(x,{children:e.jsx("h3",{children:t.IsEdit?"Update model":"Add model"})}),e.jsx(x,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},children:e.jsxs(y,{className:"row g-3",onSubmit:I,children:[e.jsxs(o,{md:6,children:[e.jsxs(l,{htmlFor:"ModelIDInput",className:"col-form-label fw-bolder",children:["ModelID",e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),e.jsx(m,{type:"text",id:"ModelIDInput",value:t.ModelID,name:"ModelID",onChange:s,disabled:!0})]}),e.jsxs(o,{md:6,children:[e.jsxs(l,{htmlFor:"ModelNameInput",className:"col-form-label fw-bolder",children:["ModelName",e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),e.jsx(m,{type:"text",id:"ModelNameInput",name:"ModelName",required:!0,value:t.ModelName,onChange:s})]}),e.jsxs(o,{xs:6,children:[e.jsx(l,{htmlFor:"DescriptionInput",className:"col-form-label fw-bolder",children:"Description"}),e.jsx(m,{type:"text",id:"DescriptionInput",name:"Description",value:t.Description,onChange:s})]}),e.jsxs(o,{md:6,children:[e.jsxs(l,{htmlFor:"statusInput",className:"col-form-label fw-bolder",children:["Status",e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"*"})]}),e.jsx(v,{type:"text",id:"statusInput",name:"StatusID",onChange:s,value:t.StatusID,options:[{label:"True",value:1},{label:"False",value:0}],required:!0})]}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(N,{style:{width:"fit-content",marginTop:"30px"},color:"primary",type:"submit",children:t.IsEdit?"Update model":"Add model"})})]})})]})};export{O as default};
