import{j as a,n as M,o as E,l as L,r as i}from"./index-DVdUffN9.js";import{r as b,Z as V,u as w,M as T,B as g,a as h,d as K,G as $,I as z}from"./index.esm-ah_DCRN0.js";import{e as q,q as x,r as H}from"./api-BVwJHRoD.js";import{M as n}from"./DefaultLayout-CfPVXb2h.js";import{d as N}from"./DeleteForever-BTfYPsmu.js";import{i as C,A as F,T as O}from"./TextField-CVwMZIf8.js";import{F as B,f as G,a as J}from"./index-C2MiuBek.js";import{C as v}from"./CCol-CkNqnnbR.js";import{b as l}from"./index.es-B3rfzgWZ.js";import"./cil-user-Ddrdy7PS.js";var d={},U=C;Object.defineProperty(d,"__esModule",{value:!0});var j=d.default=void 0,X=U(b()),Z=a;j=d.default=(0,X.default)((0,Z.jsx)("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"}),"IosShare");var c={},Q=C;Object.defineProperty(c,"__esModule",{value:!0});var A=c.default=void 0,W=Q(b()),Y=a;A=c.default=(0,W.default)((0,Y.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const ce=({setToast:s})=>{const u=M(),f=E(e=>e.areaList),o=L(),[D,I]=i.useState([]);i.useEffect(()=>{q("",-100,1,1e4).then(e=>{e.error?s(n(!0,"Error",e.error.response.data.message)):I(e.data.data)})},[]);const y=i.useMemo(()=>[{accessorKey:"AreaID",header:"AreaID",size:50},{accessorKey:"AreaCode",header:"AreaCode"},{accessorKey:"AreaName",header:"AreaName"},{accessorKey:"Description",header:"Description"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>a.jsxs(v,{children:[a.jsx(B,{icon:e.getValue()==0?G:J,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),a.jsx("span",{children:" "}),e.getValue()==1?"Active":"Deactive"]})},{accessorKey:"UserCreated",header:"UserCreated"},{accessorKey:"DateCreated",header:"DateCreated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),S=e=>{window.confirm("Are you sure you want to delete this user?")&&k(e.original.AreaID)},k=e=>{var r=localStorage.getItem("user");if(!r)return o("/pages/login");JSON.parse(r).data,e&&H(e).then(t=>{t.error?s(n(!0,"Error",t.error.response.data.message)):(x("",0,0,-100,1,1e4).then(R=>{u({type:"set",areaList:R.data.data})}),s(n(!1,"Success","Area have been deleted")))})},p=e=>{o(typeof e=="string"?"edit/0":`edit/${e.original.AreaID}`)},m=V({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),P=()=>{const e=$(m)(f);z(m)(e)},_=w({columns:y,data:f,renderTopToolbarCustomActions:({table:e})=>a.jsxs(l,{className:"d-flex flex-row justify-content-end gap-3",fluid:!0,children:[a.jsx(g,{variant:"outlined",size:"small",startIcon:a.jsx(A,{}),onClick:()=>p("edit"),children:" Create"}),a.jsx(g,{variant:"outlined",size:"small",startIcon:a.jsx(j,{}),onClick:P,children:"Export"})]}),enableColumnActions:!1,enableRowActions:!0,enableColumnFilters:!1,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,enableGrouping:!0,initialState:{expanded:!0,density:"compact"},enableExpanding:!0,getSubRows:e=>e.subRows,enableHiding:!1,muiTablePaperProps:{elevation:0},muiTableBodyProps:{sx:{"& tr:nth-of-type(odd) > td":{backgroundColor:"#f5f5f5"}}},renderRowActionMenuItems:({closeMenu:e,row:r})=>[a.jsxs(h,{onClick:()=>{p(r),e()},children:[a.jsx(K,{}),"Edit"]},0),a.jsxs(h,{onClick:()=>{S(r),e()},children:[a.jsx(N,{}),"Delete"]},1)]});return a.jsxs(l,{fluid:!0,children:[a.jsx(l,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:a.jsx(v,{children:a.jsx(F,{size:"small",disablePortal:!0,id:"cbParking",onChange:(e,r)=>{x("",0,0,r.ParkingID,1,1e4).then(t=>{u({type:"set",areaList:t.data.data})})},options:D,getOptionLabel:e=>`${e.ParkingName}`,isOptionEqualToValue:(e,r)=>(e==null?void 0:e.ParkingID)===(r==null?void 0:r.ParkingID),renderInput:e=>a.jsx(O,{...e,label:"ParkingSlot"})})})}),a.jsx(T,{table:_})]})};export{ce as default};
