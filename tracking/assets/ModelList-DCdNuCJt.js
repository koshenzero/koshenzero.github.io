import{n as M,o as j,l as I,r as u,j as t}from"./index-DVdUffN9.js";import{Z as S,u as v,M as w,a as m,d as A,G as E,I as K}from"./index.esm-ah_DCRN0.js";import{j as p,K as N}from"./api-BVwJHRoD.js";import{d as R}from"./DeleteForever-BTfYPsmu.js";import{M as n}from"./DefaultLayout-CfPVXb2h.js";import{F as k,f as L,a as U}from"./index-C2MiuBek.js";import{C as f}from"./CCol-CkNqnnbR.js";import{b as h,a as g}from"./index.es-B3rfzgWZ.js";import"./TextField-CVwMZIf8.js";import"./cil-user-Ddrdy7PS.js";const O=({setToast:s})=>{const i=M(),o=j(e=>e.modelList),r=I();u.useEffect(()=>{p("",-100,1,1e4).then(e=>{if(!e.error){i({type:"set",modelList:e.data.data.data});return}s(n(!0,"Error",e.error.response.data.message))})},[]);const x=u.useMemo(()=>[{accessorKey:"ModelID",header:"ModelID",size:50},{accessorKey:"ModelName",header:"ModelName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(f,{children:[t.jsx(k,{icon:e.getValue()==0?L:U,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),"Active"]})},{accessorKey:"Description",header:"Description"},{accessorKey:"UserUpdated",header:"UserUpdated"},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),d=e=>{r(typeof e=="string"?"edit/0":`edit/${e.original.ModelID}`)},C=e=>{var a=localStorage.getItem("user");if(a==null)return r("/pages/login");JSON.parse(a).data,e.original.ModelID&&N(e.original.ModelID).then(l=>{l.error?s(n(!0,"Error",l.error.response.data.message)):(p("",-100,1,1e4).then(D=>{i({type:"set",modelList:D.data.data})}),s(n(!1,"Success","Country have been deleted")))})},c=S({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),b=()=>{const e=E(c)(o);K(c)(e)},y=v({columns:x,data:o,enableColumnActions:!1,enableColumnFilters:!1,enableRowNumbers:!0,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,initialState:{density:"compact"},enableHiding:!1,renderTopToolbarCustomActions:({table:e})=>t.jsxs(h,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(g,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>d("edit"),children:"Add "}),t.jsx(g,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:b,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,renderRowActionMenuItems:({closeMenu:e,row:a})=>[t.jsxs(m,{onClick:l=>{d(a),e()},children:[t.jsx(A,{}),"Edit"]},0),t.jsxs(m,{onClick:()=>{C(a),e()},children:[t.jsx(R,{}),"Delete"]},1)]});return t.jsx(f,{children:o.length==0?t.jsx(h,{children:" No Data "}):t.jsx(w,{table:y})})};export{O as default};
