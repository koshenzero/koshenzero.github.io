import{r as p,j as e}from"./index-DVdUffN9.js";import{z as v}from"./index-CTd8sZY2.js";import{c as b,b as N}from"./api-BVwJHRoD.js";import{M as c}from"./DefaultLayout-CfPVXb2h.js";import{b as S,a as x}from"./index.es-B3rfzgWZ.js";import{C as j}from"./CCol-CkNqnnbR.js";import{C as a}from"./CRow-BquIsck4.js";import{C as m}from"./CCardText-Buox9gEs.js";import{C as I}from"./CFormCheck-B7KE8WPz.js";import"./cil-user-Ddrdy7PS.js";import"./CFormLabel-DkOTcXBr.js";const Q=({setToast:i})=>{const[n,o]=p.useState({}),[d,C]=p.useState(!1),g=()=>{if(n.EquipmentID){var t=localStorage.getItem("user");if(!t)return navigate("/pages/login");var r=JSON.parse(t).data;b(r.UserID,r.UserName,n.EquipmentID,!1,"").then(s=>{s.error?i(c(!0,"Error",s.error.response.data.message)):(i(c(!1,"Success","EquipmentBay has been updated")),o({}))})}},E=t=>{q(u(t,"type"),u(t,"id"))},q=(t,r)=>{r&&(t==null?void 0:t.toLowerCase())==="equipment"&&N(r).then(s=>{if(s.error){i(c(!0,"Error",s.error.response.data.message));return}o(s.data.data)})};function u(t,r){for(var s=t.split("?"),f=s[1].split("&"),l=0;l<f.length;l++){var h=f[l].split("=");if(h[0].toLowerCase()==r)return h[1]}return!1}return e.jsx(S,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},children:n.EquipmentID?e.jsxs("div",{className:" align-content-center",children:[e.jsxs("div",{className:"d-flex flex-row justify-content-center fluid",children:[e.jsxs(j,{xs:6,children:[e.jsx("h3",{children:"Equipment"}),e.jsx(a,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"ModelName:"})," ",n.ModelName]})}),e.jsx(a,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"ChassisNo:"})," ",n.ChassisNo]})}),e.jsx(a,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"FALabelName:"})," ",n.FALabelName]})})]}),e.jsx(j,{xs:6,className:"d-flex align-items-center input-group-lg",children:e.jsx(I,{id:"flexCheckDefault",label:"Is Customer",defaultChecked:d,onClick:()=>{C(!d)}})})]}),e.jsxs("div",{className:"d-flex flex-row justify-content-center fluid",children:[e.jsx(x,{style:{width:"fit-content",margin:"1rem"},variant:"outline",role:"button",color:"danger",onClick:()=>{o({})},children:"Scan another equipment QR"}),e.jsx(x,{style:{width:"fit-content",margin:"1rem"},variant:"outline",role:"button",color:"success",onClick:()=>g(),children:"Add"})]})]}):e.jsxs(a,{children:[e.jsx("h3",{children:"Scan Equipment"}),e.jsx(v,{onResult:t=>E(t),onError:t=>console.log(t==null?void 0:t.message)})]})})};export{Q as default};
