import{n as C,o as j,l as w,r as u,j as a}from"./index-pz5DZ_Hq.js";import{Z as S,u as v,M as I,a as f,d as M,G as E,I as K}from"./index.esm-BspfDtIu.js";import{m,o as L}from"./api-DvYNXHtY.js";import{M as p}from"./DefaultLayout-D3T0GNCh.js";import{d as N}from"./DeleteForever-CHR-Lpkz.js";import{b as o,a as h}from"./index.es-B6xqZEbT.js";import"./TextField-0e-iSCTa.js";import"./cil-user-Ddrdy7PS.js";const U=({setToast:n})=>{const i=C(),s=j(e=>e.areaList),r=w();u.useEffect(()=>{m("",0,0,-100,1,1e4).then(e=>{i({type:"set",areaList:e.data.data})})},[]);const g=u.useMemo(()=>[{accessorKey:"AreaID",header:"AreaID",size:50},{accessorKey:"AreaCode",header:"AreaCode"},{accessorKey:"AreaName",header:"AreaName"},{accessorKey:"Description",header:"Description"},{accessorKey:"DateCreated",header:"DateCreated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),b=e=>{window.confirm("Are you sure you want to delete this user?")&&D(e.original.AreaID)},D=e=>{var t=localStorage.getItem("user");if(!t)return r("/pages/login");JSON.parse(t).data,e&&L(e).then(d=>{d.error?n(p(!0,"Error",d.error.response.data.message)):(m("",0,0,-100,1,1e4).then(y=>{i({type:"set",areaList:y.data.data})}),n(p(!1,"Success","Area have been deleted")))})},l=e=>{r(typeof e=="string"?"edit/0":`edit/${e.original.AreaID}`)},c=S({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),x=()=>{const e=E(c)(s);K(c)(e)},A=v({columns:g,data:s,renderTopToolbarCustomActions:({table:e})=>a.jsxs(o,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[a.jsx(h,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>l("edit"),children:"Add "}),a.jsx(h,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:x,children:"Export "})]}),enableColumnActions:!1,enableRowActions:!0,enableColumnFilters:!1,enableRowNumbers:!0,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,initialState:{density:"compact"},enableHiding:!1,muiTablePaperProps:{elevation:0,sx:{borderRadius:"1"}},renderRowActionMenuItems:({closeMenu:e,row:t})=>[a.jsxs(f,{onClick:()=>{l(t),e()},children:[a.jsx(M,{}),"Edit"]},0),a.jsxs(f,{onClick:()=>{b(t),e()},children:[a.jsx(N,{}),"Delete"]},1)]});return a.jsx(o,{fluid:!0,children:s.length==0?a.jsx(o,{children:" No Data "}):a.jsx(I,{table:A})})};export{U as default};
