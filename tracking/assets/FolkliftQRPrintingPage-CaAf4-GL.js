import{r as s,n as g,o as j,j as e}from"./index-pz5DZ_Hq.js";import{j as R,k as I}from"./api-DvYNXHtY.js";import{M as b}from"./MyPrinter-CR380MHc.js";import{M as n}from"./DefaultLayout-D3T0GNCh.js";import{b as L,a as N}from"./index.es-B6xqZEbT.js";import{C as D}from"./CRow-CL5cGoEZ.js";import{C as d}from"./CCol-DHNNho6t.js";import{A as E,T as P}from"./TextField-0e-iSCTa.js";import{C as Q}from"./CFormInput-Dxb4quOv.js";import"./cil-user-Ddrdy7PS.js";import"./CFormControlWrapper-D6F6SQe9.js";import"./CFormLabel-BD5YJ7HP.js";const H=({setToast:o})=>{const m=s.useRef(),p=g(),l=j(t=>t.equipmentModelList),[u,c]=s.useState(1),[a,f]=s.useState(0),[i,x]=s.useState(0),[C,h]=s.useState([]);s.useEffect(()=>{R("",1,1,1e4).then(t=>{if(!t.error){p({type:"set",equipmentModelList:t.data.data.data});return}o(n(!0,"Error",t.error.response.data.message))})},[]);const M=()=>{I(u,a).then(t=>{if(t.error){o(n(!0,"Error",t.error.response.data.message));return}h([{LinkQRCode:t.data.data.LinkQRCode,NameQRCode:t.data.data.NameQRCode}])}),x(i+1)};return e.jsxs(L,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:[e.jsxs(D,{className:"mb-3",children:[e.jsx(d,{xs:6,children:e.jsx(E,{sx:{"& .MuiOutlinedInput-root":{padding:"0px!important"}},className:"mb-3",disablePortal:!0,id:"ModelIDInput",onChange:(t,r)=>{c(r==null?void 0:r.ModelID)},options:l,getOptionLabel:t=>`${t.ModelName}`,isOptionEqualToValue:(t,r)=>(t==null?void 0:t.ModelID)===(r==null?void 0:r.ModelID),renderInput:t=>e.jsx(P,{...t})})}),e.jsx(d,{xs:6,children:e.jsx(Q,{type:"text",placeholder:"Chassis No","aria-label":" input example",value:a,onChange:t=>{f(t.target.value)}})})]}),e.jsx(N,{color:"primary",onClick:M,children:"Print"}),e.jsx("br",{}),e.jsx(b,{ref:m,qrList:C,printCount:i})]})};export{H as default};
