import{n as j,o as D,l as I,r as u,j as t}from"./index-DVdUffN9.js";import{Z as q,u as M,M as N,a as m,d as v,G as A,I as S}from"./index.esm-ah_DCRN0.js";import{f as p,F as K}from"./api-BVwJHRoD.js";import{d as w}from"./DeleteForever-BTfYPsmu.js";import{M as n}from"./DefaultLayout-CfPVXb2h.js";import{F,f as L,a as R}from"./index-C2MiuBek.js";import{C as f}from"./CCol-CkNqnnbR.js";import{b as h,a as g}from"./index.es-B3rfzgWZ.js";import"./TextField-CVwMZIf8.js";import"./cil-user-Ddrdy7PS.js";const B=({setToast:s})=>{const l=j(),r=D(e=>e.equipmentList),o=I();u.useEffect(()=>{p("",-100,1,1e4).then(e=>{if(!e.error){l({type:"set",equipmentList:e.data.data});return}s(n(!0,"Error",e.error.response.data.message))})},[]);const C=u.useMemo(()=>[{accessorKey:"EquipmentID",header:"EquipmentID",size:50},{accessorKey:"ChassisNo",header:"ChassisNo"},{accessorKey:"ModelName",header:"ModelName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(f,{children:[t.jsx(F,{icon:e.getValue()==0?L:R,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),e.getValue()==0?"Deactive":"Active"]})},{accessorKey:"ETC",header:"ETC"},{accessorKey:"FALabelName",header:"FALabelName"},{accessorKey:"MastNumber",header:"MastNumber"},{accessorKey:"UserCreated",header:"UserCreated"},{accessorKey:"UserUpdated",header:"UserUpdated"}],[]),c=e=>{o(typeof e=="string"?"edit/0":`edit/${e.original.EquipmentID}`)},b=e=>{var a=localStorage.getItem("user");if(a==null)return o("/pages/login");JSON.parse(a).data,e.original.EquipmentID&&K(e.original.EquipmentID).then(i=>{i.error?s(n(!0,"Error",i.error.response.data.message)):(p("",-100,1,1e4).then(E=>{l({type:"set",equipmentList:E.data.data})}),s(n(!1,"Success","Equipment have been deleted")))})},d=q({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),x=()=>{const e=A(d)(r);S(d)(e)},y=M({columns:C,data:r,renderTopToolbarCustomActions:({table:e})=>t.jsxs(h,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(g,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>c("edit"),children:"Add "}),t.jsx(g,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:x,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,enableColumnActions:!1,enableColumnFilters:!1,enableRowNumbers:!0,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,initialState:{density:"compact"},enableHiding:!1,renderRowActionMenuItems:({closeMenu:e,row:a})=>[t.jsxs(m,{onClick:i=>{c(a),e()},children:[t.jsx(v,{}),"Edit"]},0),t.jsxs(m,{onClick:()=>{b(a),e()},children:[t.jsx(w,{}),"Delete"]},1)]});return t.jsx(f,{children:r.length==0?t.jsx(h,{children:" No Data "}):t.jsx(N,{table:y})})};export{B as default};
