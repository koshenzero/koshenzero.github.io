import{n as M,o as x,l as C,r as c,j as a}from"./index-Df67LvnZ.js";import{Z as D}from"./index-Dntgz-Jr.js";import{m,N as j}from"./api-D0CI0FXg.js";import{u as y,M as I,a as u,d as S}from"./index.esm-DQwAVOjC.js";import{B as A,d as N}from"./ButtonOfList-CQegefUu.js";import{M as l}from"./DefaultLayout-ChSX5Qog.js";import{F as E,f as R,a as v}from"./index-C_Aa_IVI.js";import{d as p,b as L}from"./index.es-GiY7mkae.js";import"./styled-GyNyOFDO.js";import"./TextField-CGQe4LUV.js";import"./Box-ClPNTXLH.js";const $=({setToast:s})=>{const i=M(),n=x(e=>e.modelList),r=C();c.useEffect(()=>{m("",-100,1,1e4).then(e=>{if(!e.error){i({type:"set",modelList:e.data.data.data});return}s(l(!0,"Error",e.error.response.data.message))})},[]);const f=c.useMemo(()=>[{accessorKey:"ModelName",header:"ModelName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>a.jsxs(p,{children:[a.jsx(E,{icon:e.getValue()==0?R:v,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),a.jsx("span",{children:" "}),"Active"]})},{accessorKey:"Description",header:"Description"}],[]),d=e=>{r(typeof e=="string"?"edit/0":`edit/${e.original.ModelID}`)},g=e=>{var t=localStorage.getItem("user");if(t==null)return r("/pages/login");JSON.parse(t).data,e.original.ModelID&&j(Number(e.original.ModelID)).then(o=>{o.error?s(l(!0,"Error",o.error.response.data.message)):(m("",-100,1,1e4).then(h=>{i({type:"set",modelList:h.data.data.data})}),s(l(!1,"Success","Equipment model have been deleted")))})};D({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0});const b=y({columns:f,data:n,enableGlobalFilter:!1,enableColumnActions:!1,enableColumnFilters:!1,enableRowNumbers:!0,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,initialState:{density:"compact"},enableHiding:!1,renderTopToolbarCustomActions:({table:e})=>a.jsx(A,{text:"Insert",callback:()=>d("edit")}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,renderRowActionMenuItems:({closeMenu:e,row:t})=>[a.jsxs(u,{onClick:o=>{d(t),e()},children:[a.jsx(S,{}),"Edit"]},0),a.jsxs(u,{onClick:()=>{g(t),e()},children:[a.jsx(N,{}),"Delete"]},1)]});return a.jsx(p,{children:n.length==0?a.jsx(L,{children:" No Data "}):a.jsx(I,{table:b})})};export{$ as default};
