import{n as b,o as h,l as x,r as u,j as t}from"./index-Df67LvnZ.js";import{Z as j}from"./index-Dntgz-Jr.js";import{t as d,F as D}from"./api-D0CI0FXg.js";import{u as I,M as S,a as m,d as M}from"./index.esm-DQwAVOjC.js";import{B as A,d as R}from"./ButtonOfList-CQegefUu.js";import{M as n}from"./DefaultLayout-ChSX5Qog.js";import{F as v,f as E,a as F}from"./index-C_Aa_IVI.js";import{d as f,b as L}from"./index.es-GiY7mkae.js";import"./styled-GyNyOFDO.js";import"./TextField-CGQe4LUV.js";import"./Box-ClPNTXLH.js";const $=({setToast:r})=>{const l=b(),i=h(e=>e.countryList),s=x();u.useEffect(()=>{d("",-100,1,1e4).then(e=>{if(!e.error){l({type:"set",countryList:e.data.data.data});return}r(n(!0,"Error",e.error.response.data.message))})},[]);const p=u.useMemo(()=>[{accessorKey:"CountryName",header:"CountryName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(f,{children:[t.jsx(v,{icon:e.getValue()==0?E:F,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),"Active"]})}],[]),c=e=>{s(typeof e=="string"?"edit/0":`edit/${e.original.CountryID}`)},g=e=>{var a=localStorage.getItem("user");if(a==null)return s("/pages/login");JSON.parse(a).data,e.original.CountryID&&D(e.original.CountryID).then(o=>{o.error?r(n(!0,"Error",o.error.response.data.message)):(d("",-100,1,1e4).then(y=>{l({type:"set",countryList:y.data.data})}),r(n(!1,"Success","Country have been deleted")))})};j({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0});const C=I({columns:p,data:i,renderTopToolbarCustomActions:({table:e})=>t.jsx(A,{text:"Insert",callback:()=>c("edit")}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableGlobalFilter:!1,enableRowActions:!0,enableColumnActions:!1,enableColumnFilters:!1,enableRowNumbers:!0,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,initialState:{density:"compact"},enableHiding:!1,renderRowActionMenuItems:({closeMenu:e,row:a})=>[t.jsxs(m,{onClick:o=>{c(a),e()},children:[t.jsx(M,{}),"Edit"]},0),t.jsxs(m,{onClick:()=>{g(a),e()},children:[t.jsx(R,{}),"Delete"]},1)]});return t.jsx(f,{children:i.length==0?t.jsx(L,{children:" No Data "}):t.jsx(S,{table:C})})};export{$ as default};
