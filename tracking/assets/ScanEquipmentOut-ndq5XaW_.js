import{r as x,_ as y,R as E,b as R,c as F,P as v,j as e}from"./index-Df67LvnZ.js";import{z as T}from"./index-D1U7uJ5r.js";import{e as L,d as w}from"./api-D0CI0FXg.js";import{M as j}from"./DefaultLayout-ChSX5Qog.js";import{b as D,d as I,a as q}from"./index.es-GiY7mkae.js";import{C as c}from"./CRow-DtrdDwyb.js";import{C as k}from"./CCardText-x8S5tsm_.js";import{C as B}from"./CFormCheck-Bqq75Q6c.js";import{C as V,a as A}from"./CInputGroupText-1k0c2knK.js";import{C as S}from"./CFormControlWrapper-C6kxU_lF.js";import"./CFormLabel-U7mi1tVG.js";var N=x.forwardRef(function(t,i){var n=t.children,m=t.className,h=t.feedback,f=t.feedbackInvalid,b=t.feedbackValid,C=t.floatingClassName,g=t.floatingLabel,p=t.id,o=t.invalid,a=t.label,r=t.plainText,s=t.text,u=t.tooltipFeedback,l=t.valid,d=y(t,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","id","invalid","label","plainText","text","tooltipFeedback","valid"]);return E.createElement(S,{describedby:d["aria-describedby"],feedback:h,feedbackInvalid:f,feedbackValid:b,floatingClassName:C,floatingLabel:g,id:p,invalid:o,label:a,text:s,tooltipFeedback:u,valid:l},E.createElement("textarea",R({className:F(r?"form-control-plaintext":"form-control",{"is-invalid":o,"is-valid":l},m),id:p},d,{ref:i}),n))});N.propTypes=R({className:v.string,id:v.string,plainText:v.bool},S.propTypes);N.displayName="CFormTextarea";const X=({setToast:t})=>{const[i,n]=x.useState({}),[m,h]=x.useState(!1),[f,b]=x.useState(""),C=()=>{if(i.EquipmentID){var a=localStorage.getItem("user");if(!a)return navigate("/pages/login");var r=JSON.parse(a).data;L(r.UserID,r.UserName,i.EquipmentID,!1,f).then(s=>{s.error?t(j(!0,"Error",s.error.response.data.message)):(t(j(!1,"Success","EquipmentBay has been updated")),n({}))})}},g=a=>{p(o(a,"type"),o(a,"id"))},p=(a,r)=>{r&&(a==null?void 0:a.toLowerCase())==="equipment"&&w(r).then(s=>{if(s.error){t(j(!0,"Error",s.error.response.data.message));return}n(s.data.data)})};function o(a,r){for(var s=a.split("?"),u=s[1].split("&"),l=0;l<u.length;l++){var d=u[l].split("=");if(d[0].toLowerCase()==r)return d[1]}return!1}return e.jsx(D,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:i.EquipmentID?e.jsxs("div",{children:[e.jsx("div",{className:"d-flex flex-row  fluid",children:e.jsxs(I,{children:[e.jsx("h3",{children:"Equipment"}),e.jsx(c,{children:e.jsxs(k,{children:[e.jsx("strong",{children:"ModelName:"})," ",i.ModelName]})}),e.jsx(c,{children:e.jsxs(k,{children:[e.jsx("strong",{children:"ChassisNo:"})," ",i.ChassisNo]})}),e.jsx(c,{children:e.jsxs(k,{children:[e.jsx("strong",{children:"FALabelName:"})," ",i.FALabelName]})}),e.jsx(I,{xs:12,className:"mt-3 mb-3",children:e.jsx(B,{id:"flexCheckDefault",label:"Is Customer",xs:12,defaultChecked:m,onClick:()=>{h(!m)}})}),e.jsx(c,{children:e.jsxs(V,{children:[e.jsx(A,{children:"Remark"}),e.jsx(N,{value:f,onChange:a=>b(a.target.value),"aria-label":"Remark"})]})})]})}),e.jsxs("div",{children:[e.jsx(q,{style:{width:"fit-content",margin:"1rem"},variant:"outline",role:"button",color:"danger",onClick:()=>{n({})},children:"Scan another equipment QR"}),e.jsx(q,{style:{width:"fit-content",margin:"1rem"},variant:"outline",role:"button",color:"success",onClick:()=>C(),children:"Add"})]})]}):e.jsxs(c,{children:[e.jsx("h3",{children:"Scan Equipment"}),e.jsx(T,{onResult:a=>g(a),onError:a=>console.log(a==null?void 0:a.message)})]})})};export{X as default};
