import{n as U,o as A,l as S,r as m,j as s}from"./index-pz5DZ_Hq.js";import{Z as w,u as E,M,a as f,d as N,G as K,I as R}from"./index.esm-BspfDtIu.js";import{v as p,w as k}from"./api-DvYNXHtY.js";import{d as F}from"./DeleteForever-CHR-Lpkz.js";import{M as i}from"./DefaultLayout-D3T0GNCh.js";import{F as g,f as h,a as x}from"./index-4fg5yqhO.js";import{C as n}from"./CCol-DHNNho6t.js";import{b,a as y}from"./index.es-B6xqZEbT.js";import"./TextField-0e-iSCTa.js";import"./cil-user-Ddrdy7PS.js";const O=({setToast:a})=>{const c=U(),r=A(e=>e.userList),o=S();m.useEffect(()=>{p("",0,-100,-100,1e4).then(e=>{if(!e.error){c({type:"set",userList:e.data.data});return}a(i(!0,"Error",e.error.response.data.message))})},[]);const C=m.useMemo(()=>[{accessorKey:"UserID",header:"ID",size:50},{accessorKey:"UserName",header:"UID"},{accessorKey:"FullName",header:"Full Name"},{accessorKey:"Email",header:"Email"},{accessorKey:"TypeUserID",header:"Is Administrator",Cell:({cell:e})=>s.jsxs(n,{children:[s.jsx(g,{icon:e.getValue()==0?h:x,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),s.jsx("span",{children:" "}),"Active"]})},{accessorKey:"StatusID",header:"Status",Cell:({cell:e})=>s.jsxs(n,{children:[s.jsx(g,{icon:e.getValue()==0?h:x,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),s.jsx("span",{children:" "}),e.getValue()==1?"Active":"Deactive"]})}],[]),d=e=>{o(typeof e=="string"?"edit/0":`edit/${e.original.UserID}`)},j=e=>{var t=localStorage.getItem("user");if(t==null)return o("/pages/login");JSON.parse(t).data,e.original.UserID&&k(e.original.UserID).then(l=>{l.error?a(i(!0,"Error",l.error.response.data.message)):(p("",0,-100,-100,1e4).then(v=>{c({type:"set",userList:v.data.data})}),a(i(!1,"Success","User have been deleted")))})},u=w({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),D=()=>{const e=K(u)(r);R(u)(e)},I=E({columns:C,data:r,renderTopToolbarCustomActions:({table:e})=>s.jsxs(b,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[s.jsx(y,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>d("edit"),children:"Add "}),s.jsx(y,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:D,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,enableColumnActions:!1,enableColumnFilters:!1,enableRowNumbers:!0,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,initialState:{density:"compact"},enableHiding:!1,renderRowActionMenuItems:({closeMenu:e,row:t})=>[s.jsxs(f,{onClick:l=>{d(t),e()},children:[s.jsx(N,{}),"Edit"]},0),s.jsxs(f,{onClick:()=>{j(t),e()},children:[s.jsx(F,{}),"Delete"]},1)]});return s.jsx(n,{children:r.length==0?s.jsx(b,{children:" No Data "}):s.jsx(M,{table:I})})};export{O as default};
