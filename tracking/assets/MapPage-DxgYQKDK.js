import{r as e,j as r}from"./index-CEuIzQF6.js";import{e as h,o as P}from"./api-BfBva5oo.js";import{M as i}from"./DefaultLayout-hw1nnULZ.js";import{u as b,C as x}from"./useMapCanvasModel-Ccn2v9_E.js";import{C as s}from"./CCol-Cj_yAkpZ.js";import{b as n}from"./index.es-CvT3HhZV.js";import{A as j,T as C}from"./TextField-CfqoDtEE.js";import"./cil-user-Ddrdy7PS.js";const T=()=>{const[d,m]=e.useState([]),[o,g]=e.useState({imageSource:"./test1.png",data:[]}),{background:l,elements:c,loadBackground:p,loadDataSource:f}=b();e.useEffect(()=>{h("",-100,1,1e4).then(a=>{a.error?setToast(i(!0,"Error",a.error.response.data.message)):m(a.data.data)})},[]),e.useEffect(()=>{var a=o.data.map(t=>({...t,JsonRectangle:k(t.JsonRectangle)?"[[100,50],[200,50],[200,150],[100,150]]":t.JsonRectangle}));f(a)},[o]);const u=a=>{P(a,null).then(t=>{t.error?setToast(i(!0,"Error",t.error.response.data.message)):g(t.data.data)})},k=a=>!a||a.length===0;return r.jsxs(s,{children:[r.jsx(n,{className:"mb-3",style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:r.jsx(s,{children:r.jsx(j,{size:"small",disablePortal:!0,id:"cbParking",onChange:(a,t)=>{p({imageSrc:t==null?void 0:t.ImagePath}),u(t==null?void 0:t.ParkingID)},options:d,getOptionLabel:a=>`${a.ParkingName}`,isOptionEqualToValue:(a,t)=>(a==null?void 0:a.ParkingID)===(t==null?void 0:t.ParkingID),renderInput:a=>r.jsx(C,{...a,label:"ParkingSlot"})})})}),r.jsx(n,{style:{background:"#fff",width:"85%",borderRadius:4},fluid:!0,children:r.jsx(s,{children:r.jsx(x,{elements:c,initialState:"SELECT",background:l})})})]})};export{T as default};
