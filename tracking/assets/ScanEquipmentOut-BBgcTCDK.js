import{r as p,_ as z,R as n,b as C,P as s,c as b,j as e}from"./index-pz5DZ_Hq.js";import{z as Q}from"./index-BsWCUFtH.js";import{c as P,b as U}from"./api-DvYNXHtY.js";import{b as G,a as L}from"./index.es-B6xqZEbT.js";import{C as T}from"./CCol-DHNNho6t.js";import{C as o}from"./CRow-CL5cGoEZ.js";import{C as m}from"./CCardText-DEyiuYcN.js";import{C as D,a as w}from"./CFormLabel-BD5YJ7HP.js";import{u as H}from"./DefaultLayout-D3T0GNCh.js";import"./cil-user-Ddrdy7PS.js";var I=p.forwardRef(function(t,u){var f=t.className,l=t.button,E=t.feedback,j=t.feedbackInvalid,N=t.feedbackValid,v=t.floatingLabel,r=t.tooltipFeedback,i=t.hitArea,a=t.id,c=t.indeterminate,h=t.inline,d=t.invalid,x=t.label,M=t.reverse,R=t.type,O=R===void 0?"checkbox":R,y=t.valid,S=z(t,["className","button","feedback","feedbackInvalid","feedbackValid","floatingLabel","tooltipFeedback","hitArea","id","indeterminate","inline","invalid","label","reverse","type","valid"]),g=p.useRef(null),V=H(u,g);p.useEffect(function(){g.current&&c&&(g.current.indeterminate=c)},[c,g.current]);var k=function(){return n.createElement("input",C({type:O,className:b(l?"btn-check":"form-check-input",{"is-invalid":d,"is-valid":y,"me-2":i}),id:a},S,{ref:V}))},F=function(){return n.createElement(w,{describedby:S["aria-describedby"],feedback:E,feedbackInvalid:j,feedbackValid:N,floatingLabel:v,invalid:d,tooltipFeedback:r,valid:y})},A=function(){var q;return n.createElement(D,C({customClassName:b(l?b("btn",l.variant?"btn-".concat(l.variant,"-").concat(l.color):"btn-".concat(l.color),(q={},q["btn-".concat(l.size)]=l.size,q),"".concat(l.shape)):"form-check-label")},a&&{htmlFor:a}),x)},B=function(){return l?n.createElement(n.Fragment,null,n.createElement(k,null),x&&n.createElement(A,null),n.createElement(F,null)):x?i?n.createElement(n.Fragment,null,n.createElement(k,null),n.createElement(D,C({customClassName:b("form-check-label stretched-link",f)},a&&{htmlFor:a}),x),n.createElement(F,null)):n.createElement("div",{className:b("form-check",{"form-check-inline":h,"form-check-reverse":M,"is-invalid":d,"is-valid":y},f)},n.createElement(k,null),n.createElement(A,null),n.createElement(F,null)):n.createElement(k,null)};return n.createElement(B,null)});I.propTypes=C({button:s.object,className:s.string,hitArea:s.oneOf(["full"]),id:s.string,indeterminate:s.bool,inline:s.bool,label:s.oneOfType([s.string,s.node]),reverse:s.bool,type:s.oneOf(["checkbox","radio"])},w.propTypes);I.displayName="CFormCheck";const re=()=>{const[t,u]=p.useState({}),[f,l]=p.useState(!1),E=()=>{if(t.EquipmentID){var r=localStorage.getItem("user");if(!r)return navigate("/pages/login");var i=JSON.parse(r).data;P(i.UserID,i.UserName,t.EquipmentID,!1,"").then(a=>{a.error?setToast(MyAlert(!0,"Error",a.error.response.data.message)):(setToast(MyAlert(!0,"Success","EquipmentBay has been updated")),u({}))})}},j=r=>{N(v(r,"type"),v(r,"id"))},N=(r,i)=>{i&&(r==null?void 0:r.toLowerCase())==="equipment"&&U(i).then(a=>{if(a.error){setToast(MyAlert(!0,"Error",a.error.response.data.message));return}u(a.data.data)})};function v(r,i){for(var a=r.split("?"),c=a[1].split("&"),h=0;h<c.length;h++){var d=c[h].split("=");if(d[0].toLowerCase()==i)return d[1]}return!1}return e.jsx(G,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},children:t.EquipmentID?e.jsxs(o,{children:[e.jsx("h3",{children:"Scan Equipment"}),e.jsx(Q,{onResult:r=>j(r),onError:r=>console.log(r==null?void 0:r.message)})]}):e.jsxs("div",{className:" align-content-center",children:[e.jsxs("div",{className:"d-flex flex-row justify-content-center fluid",children:[e.jsxs(T,{xs:6,children:[e.jsx("h3",{children:"Equipment"}),e.jsx(o,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"EquipmentID:"})," ",t.EquipmentID]})}),e.jsx(o,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"ChassisNo:"})," ",t.ChassisNo]})}),e.jsx(o,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"ModelName:"})," ",t.ModelName]})}),e.jsx(o,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"ETC:"})," ",t.ETC]})}),e.jsx(o,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"FALabelName:"})," ",t.FALabelName]})}),e.jsx(o,{children:e.jsxs(m,{children:[e.jsx("strong",{children:"MastNumber:"})," ",t.MastNumber]})})]}),e.jsx(T,{xs:6,className:"d-flex align-items-center input-group-lg",children:e.jsx(I,{id:"flexCheckDefault",label:"Is Customer",defaultChecked:f,onClick:()=>{l(!f)}})})]}),e.jsxs("div",{className:"d-flex flex-row justify-content-center fluid",children:[e.jsx(L,{style:{width:"fit-content",margin:"1rem"},variant:"outline",role:"button",color:"danger",onClick:()=>{u({})},children:"Scan another equipment QR"}),e.jsx(L,{style:{width:"fit-content",margin:"1rem"},variant:"outline",role:"button",color:"success",onClick:()=>E(),children:"Add"})]})]})})};export{re as default};
