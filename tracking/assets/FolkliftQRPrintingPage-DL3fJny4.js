import{r,n as g,o as j,j as e}from"./index-CpNJ6ZVU.js";import{j as R,k as I}from"./api-BVwJHRoD.js";import{M as L}from"./MyPrinter-r88jox9s.js";import{M as n}from"./DefaultLayout-t0UtGZNy.js";import{b,a as E}from"./index.es-CiFilu0v.js";import{C as q}from"./CRow-DYwe4O6d.js";import{C as m}from"./CCol-Kho4-ZsH.js";import{A as D,T as N}from"./TextField-Bk2duZ4z.js";import{C as Q}from"./CFormInput-D0ZwMTzC.js";import"./cil-user-Ddrdy7PS.js";import"./CFormControlWrapper-DAS2UAO9.js";import"./CFormLabel-u0h-jzXB.js";const H=({setToast:o})=>{const d=r.useRef(),l=g(),p=j(t=>t.equipmentModelList),[c,u]=r.useState(1),[a,f]=r.useState(""),[i,C]=r.useState(0),[x,h]=r.useState([]);r.useEffect(()=>{R("",1,1,1e4).then(t=>{if(!t.error){l({type:"set",equipmentModelList:t.data.data.data});return}o(n(!0,"Error",t.error.response.data.message))})},[]);const M=()=>{I(c,a).then(t=>{if(t.error){o(n(!0,"Error",t.error.response.data.message));return}h([{LinkQRCode:t.data.data.LinkQRCode,NameQRCode:t.data.data.NameQRCode}])}),C(i+1)};return e.jsxs(b,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:[e.jsxs(q,{className:"mb-3",children:[e.jsx(m,{xs:6,children:e.jsx(D,{size:"small",className:"mb-3",id:"ModelIDInput",onChange:(t,s)=>{u(s==null?void 0:s.ModelID)},options:p,getOptionLabel:t=>`${t.ModelName}`,isOptionEqualToValue:(t,s)=>(t==null?void 0:t.ModelID)===(s==null?void 0:s.ModelID),renderInput:t=>e.jsx(N,{...t,label:"Equipment model"})})}),e.jsx(m,{xs:6,children:e.jsx(Q,{type:"text",size:"small",placeholder:"Chassis no",value:a,onChange:t=>{f(t.target.value)}})})]}),e.jsx(E,{color:"primary",onClick:M,children:"Print"}),e.jsx("br",{}),e.jsx(L,{ref:d,qrList:x,printCount:i})]})};export{H as default};
