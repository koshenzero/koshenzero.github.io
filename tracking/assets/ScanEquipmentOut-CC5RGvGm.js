import{r as f,_ as T,R as r,b as x,P as s,c as u,j as e}from"./index-CEuIzQF6.js";import{z as P}from"./index-BbSNCNyI.js";import{c as U,b as G}from"./api-BfBva5oo.js";import{u as H,M as q}from"./DefaultLayout-hw1nnULZ.js";import{b as J,a as A}from"./index.es-CvT3HhZV.js";import{C as D}from"./CCol-Cj_yAkpZ.js";import{C as k}from"./CRow-D-0kM1GJ.js";import{C as I}from"./CCardText-BC4Omq8-.js";import{C as O,a as V}from"./CFormLabel-BxRbtAll.js";import"./cil-user-Ddrdy7PS.js";var R=f.forwardRef(function(t,o){var m=t.className,a=t.button,g=t.feedback,C=t.feedbackInvalid,E=t.feedbackValid,j=t.floatingLabel,b=t.tooltipFeedback,n=t.hitArea,l=t.id,i=t.indeterminate,p=t.inline,c=t.invalid,d=t.label,B=t.reverse,S=t.type,z=S===void 0?"checkbox":S,N=t.valid,L=T(t,["className","button","feedback","feedbackInvalid","feedbackValid","floatingLabel","tooltipFeedback","hitArea","id","indeterminate","inline","invalid","label","reverse","type","valid"]),h=f.useRef(null),M=H(o,h);f.useEffect(function(){h.current&&i&&(h.current.indeterminate=i)},[i,h.current]);var v=function(){return r.createElement("input",x({type:z,className:u(a?"btn-check":"form-check-input",{"is-invalid":c,"is-valid":N,"me-2":n}),id:l},L,{ref:M}))},y=function(){return r.createElement(V,{describedby:L["aria-describedby"],feedback:g,feedbackInvalid:C,feedbackValid:E,floatingLabel:j,invalid:c,tooltipFeedback:b,valid:N})},w=function(){var F;return r.createElement(O,x({customClassName:u(a?u("btn",a.variant?"btn-".concat(a.variant,"-").concat(a.color):"btn-".concat(a.color),(F={},F["btn-".concat(a.size)]=a.size,F),"".concat(a.shape)):"form-check-label")},l&&{htmlFor:l}),d)},Q=function(){return a?r.createElement(r.Fragment,null,r.createElement(v,null),d&&r.createElement(w,null),r.createElement(y,null)):d?n?r.createElement(r.Fragment,null,r.createElement(v,null),r.createElement(O,x({customClassName:u("form-check-label stretched-link",m)},l&&{htmlFor:l}),d),r.createElement(y,null)):r.createElement("div",{className:u("form-check",{"form-check-inline":p,"form-check-reverse":B,"is-invalid":c,"is-valid":N},m)},r.createElement(v,null),r.createElement(w,null),r.createElement(y,null)):r.createElement(v,null)};return r.createElement(Q,null)});R.propTypes=x({button:s.object,className:s.string,hitArea:s.oneOf(["full"]),id:s.string,indeterminate:s.bool,inline:s.bool,label:s.oneOfType([s.string,s.node]),reverse:s.bool,type:s.oneOf(["checkbox","radio"])},V.propTypes);R.displayName="CFormCheck";const re=({setToast:t})=>{const[o,m]=f.useState({}),[a,g]=f.useState(!1),C=()=>{if(o.EquipmentID){var n=localStorage.getItem("user");if(!n)return navigate("/pages/login");var l=JSON.parse(n).data;U(l.UserID,l.UserName,o.EquipmentID,!1,"").then(i=>{i.error?t(q(!0,"Error",i.error.response.data.message)):(t(q(!1,"Success","EquipmentBay has been updated")),m({}))})}},E=n=>{j(b(n,"type"),b(n,"id"))},j=(n,l)=>{l&&(n==null?void 0:n.toLowerCase())==="equipment"&&G(l).then(i=>{if(i.error){t(q(!0,"Error",i.error.response.data.message));return}m(i.data.data)})};function b(n,l){for(var i=n.split("?"),p=i[1].split("&"),c=0;c<p.length;c++){var d=p[c].split("=");if(d[0].toLowerCase()==l)return d[1]}return!1}return e.jsx(J,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},children:o.EquipmentID?e.jsxs("div",{className:" align-content-center",children:[e.jsxs("div",{className:"d-flex flex-row justify-content-center fluid",children:[e.jsxs(D,{xs:6,children:[e.jsx("h3",{children:"Equipment"}),e.jsx(k,{children:e.jsxs(I,{children:[e.jsx("strong",{children:"ModelName:"})," ",o.ModelName]})}),e.jsx(k,{children:e.jsxs(I,{children:[e.jsx("strong",{children:"ChassisNo:"})," ",o.ChassisNo]})}),e.jsx(k,{children:e.jsxs(I,{children:[e.jsx("strong",{children:"FALabelName:"})," ",o.FALabelName]})})]}),e.jsx(D,{xs:6,className:"d-flex align-items-center input-group-lg",children:e.jsx(R,{id:"flexCheckDefault",label:"Is Customer",defaultChecked:a,onClick:()=>{g(!a)}})})]}),e.jsxs("div",{className:"d-flex flex-row justify-content-center fluid",children:[e.jsx(A,{style:{width:"fit-content",margin:"1rem"},variant:"outline",role:"button",color:"danger",onClick:()=>{m({})},children:"Scan another equipment QR"}),e.jsx(A,{style:{width:"fit-content",margin:"1rem"},variant:"outline",role:"button",color:"success",onClick:()=>C(),children:"Add"})]})]}):e.jsxs(k,{children:[e.jsx("h3",{children:"Scan Equipment"}),e.jsx(P,{onResult:n=>E(n),onError:n=>console.log(n==null?void 0:n.message)})]})})};export{re as default};
