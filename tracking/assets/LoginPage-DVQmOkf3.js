import{r as t,_ as v,R as I,b,c as S,P as p,n as w,l as L,j as s}from"./index-Df67LvnZ.js";import{b as P,d as u,c as h,a as U}from"./index.es-GiY7mkae.js";import{C as R,a as B,l as E,g as G}from"./api-D0CI0FXg.js";import{B as k,C as T}from"./Box-ClPNTXLH.js";import{C as x}from"./CRow-DtrdDwyb.js";import{C as _,a as D}from"./CCardBody-Dap6keRQ.js";import{C as F}from"./CForm-BlQPlA_m.js";import{C as g,a as C}from"./CInputGroupText-1k0c2knK.js";import{c as W,a as J}from"./cil-user-Dlmw-Gem.js";import{C as f}from"./CFormInput-DweMMv1W.js";import"./styled-GyNyOFDO.js";import"./CFormControlWrapper-C6kxU_lF.js";import"./CFormLabel-U7mi1tVG.js";var d=t.forwardRef(function(r,o){var l=r.children,n=r.className,c=v(r,["children","className"]);return I.createElement("div",b({className:S("card-group",n)},c,{ref:o}),l)});d.propTypes={children:p.node,className:p.string};d.displayName="CCardGroup";const ss=()=>{const r=w(),[o,l]=t.useState(""),[n,c]=t.useState(""),[j,a]=t.useState(!1),i=L();t.useEffect(()=>{a(!0);var e=localStorage.getItem("user");if(e!=null)return a(!1),i("/pages/dashboard");a(!1)},[]);const y=async()=>{a(!0);let e=await E(o,n);if(e.data!=null){a(!1),G(e.data.data.UserID).then(N=>{r({type:"set",permission:N.data.data})}),localStorage.setItem("user",JSON.stringify(e.data));var m=localStorage.getItem("oldUrl");return m!=null?(localStorage.removeItem("oldUrl"),i(m)):i("/pages/dashboard")}a(!1)};return j?s.jsx(k,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:s.jsx(T,{})}):s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(P,{children:s.jsx(x,{className:"justify-content-center ",children:s.jsx(u,{md:8,children:s.jsx(d,{children:s.jsx(_,{className:"p-4 justify-content-center",children:s.jsx(D,{children:s.jsxs(F,{children:[s.jsx(R,{src:B,width:80}),s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),s.jsxs(g,{className:"mb-3",children:[s.jsx(C,{children:s.jsx(h,{icon:W})}),s.jsx(f,{placeholder:"Username",value:o,onChange:e=>{l(e.target.value)}})]}),s.jsxs(g,{className:"mb-4",children:[s.jsx(C,{children:s.jsx(h,{icon:J})}),s.jsx(f,{type:"password",value:n,onChange:e=>{c(e.target.value)},placeholder:"Password",autoComplete:"current-password"})]}),s.jsx(x,{children:s.jsx(u,{xs:6,children:s.jsx(U,{color:"primary",className:"px-4",onClick:y,children:"Login"})})})]})})})})})})})})};export{ss as default};
