import{n as j,o as I,l as S,r as d,j as t}from"./index-pz5DZ_Hq.js";import{Z as v,u as w,M as A,a as m,d as M,G as E,I as N}from"./index.esm-BspfDtIu.js";import{s as f,x as R}from"./api-DvYNXHtY.js";import{d as k}from"./DeleteForever-CHR-Lpkz.js";import{M as l}from"./DefaultLayout-D3T0GNCh.js";import{F as K,f as L,a as U}from"./index-4fg5yqhO.js";import{C as p}from"./CCol-DHNNho6t.js";import{b as y,a as C}from"./index.es-B6xqZEbT.js";import"./TextField-0e-iSCTa.js";import"./cil-user-Ddrdy7PS.js";const O=({setToast:r})=>{const i=j(),s=I(e=>e.countryList),o=S();d.useEffect(()=>{f("",-100,1,1e4).then(e=>{if(!e.error){i({type:"set",countryList:e.data.data.data});return}r(l(!0,"Error",e.error.response.data.message))})},[]);const g=d.useMemo(()=>[{accessorKey:"CountryID",header:"CountryID",size:50},{accessorKey:"CountryName",header:"CountryName"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>t.jsxs(p,{children:[t.jsx(K,{icon:e.getValue()==0?L:U,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),t.jsx("span",{children:" "}),"Active"]})},{accessorKey:"UserUpdated",header:"UserUpdated"},{accessorKey:"DateUpdated",header:"DateUpdated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),c=e=>{o(typeof e=="string"?"edit/0":`edit/${e.original.CountryID}`)},h=e=>{var a=localStorage.getItem("user");if(a==null)return o("/pages/login");JSON.parse(a).data,e.original.CountryID&&R(e.original.CountryID).then(n=>{n.error?r(l(!0,"Error",n.error.response.data.message)):(f("",-100,1,1e4).then(D=>{i({type:"set",countryList:D.data.data})}),r(l(!1,"Success","Country have been deleted")))})},u=v({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),x=()=>{const e=E(u)(s);N(u)(e)},b=w({columns:g,data:s,renderTopToolbarCustomActions:({table:e})=>t.jsxs(y,{className:"d-flex flex-row justify-content-between",fluid:!0,children:[t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"success",onClick:()=>c("edit"),children:"Add "}),t.jsx(C,{style:{width:"fit-content"},variant:"outline",role:"button",color:"primary",onClick:x,children:"Export "})]}),createDisplayMode:"modal",positionCreatingRow:"bottom",enableRowActions:!0,enableColumnActions:!1,enableColumnFilters:!1,enableRowNumbers:!0,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,initialState:{density:"compact"},enableHiding:!1,renderRowActionMenuItems:({closeMenu:e,row:a})=>[t.jsxs(m,{onClick:n=>{c(a),e()},children:[t.jsx(M,{}),"Edit"]},0),t.jsxs(m,{onClick:()=>{h(a),e()},children:[t.jsx(k,{}),"Delete"]},1)]});return t.jsx(p,{children:s.length==0?t.jsx(y,{children:" No Data "}):t.jsx(A,{table:b})})};export{O as default};
