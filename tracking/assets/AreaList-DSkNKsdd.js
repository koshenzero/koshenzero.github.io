import{j as a,n as M,o as P,l as E,r as d}from"./index-CEuIzQF6.js";import{r as b,Z as V,u as w,M as K,B as h,a as x,d as N,G as T,I as $}from"./index.esm-C6lCNA3u.js";import{e as z,q as c,r as q}from"./api-BfBva5oo.js";import{M as u}from"./DefaultLayout-hw1nnULZ.js";import{d as H}from"./DeleteForever-C6QLg2mI.js";import{i as C,A as F,T as O}from"./TextField-CfqoDtEE.js";import{F as B,f as G,a as J}from"./index-BcaLz4Rz.js";import{C as v}from"./CCol-Cj_yAkpZ.js";import{b as s}from"./index.es-CvT3HhZV.js";import"./cil-user-Ddrdy7PS.js";var f={},U=C;Object.defineProperty(f,"__esModule",{value:!0});var j=f.default=void 0,X=U(b()),Z=a;j=f.default=(0,X.default)((0,Z.jsx)("path",{d:"m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"}),"IosShare");var m={},Q=C;Object.defineProperty(m,"__esModule",{value:!0});var A=m.default=void 0,W=Q(b()),Y=a;A=m.default=(0,W.default)((0,Y.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const ce=({setToast:o})=>{const i=M(),n=P(e=>e.areaList),l=E(),[D,I]=d.useState([]);d.useEffect(()=>{z("",-100,1,1e4).then(e=>{e.error?o(u(!0,"Error",e.error.response.data.message)):(I(e.data.data),c("",0,0,-100,1,1e4).then(t=>{i({type:"set",areaList:t.data.data})}))})},[]);const y=d.useMemo(()=>[{accessorKey:"AreaID",header:"AreaID",size:50},{accessorKey:"AreaCode",header:"AreaCode"},{accessorKey:"AreaName",header:"AreaName"},{accessorKey:"Description",header:"Description"},{accessorKey:"StatusID",header:"StatusID",Cell:({cell:e})=>a.jsxs(v,{children:[a.jsx(B,{icon:e.getValue()==0?G:J,style:e.getValue()==0?{color:"red"}:{color:"green"},size:"lg"}),a.jsx("span",{children:" "}),e.getValue()==1?"Active":"Deactive"]})},{accessorKey:"UserCreated",header:"UserCreated"},{accessorKey:"DateCreated",header:"DateCreated",Cell:({cell:e})=>new Date(e.getValue()).toLocaleDateString("en-us")}],[]),S=e=>{window.confirm("Are you sure you want to delete this user?")&&k(e.original.AreaID)},k=e=>{var t=localStorage.getItem("user");if(!t)return l("/pages/login");JSON.parse(t).data,e&&q(e).then(r=>{r.error?o(u(!0,"Error",r.error.response.data.message)):(c("",0,0,-100,1,1e4).then(L=>{i({type:"set",areaList:L.data.data})}),o(u(!1,"Success","Area have been deleted")))})},p=e=>{l(typeof e=="string"?"edit/0":`edit/${e.original.AreaID}`)},g=V({fieldSeparator:",",decimalSeparator:".",useKeysAsHeaders:!0}),_=()=>{const e=T(g)(n);$(g)(e)},R=w({columns:y,data:n,renderTopToolbarCustomActions:({table:e})=>a.jsxs(s,{className:"d-flex flex-row justify-content-end gap-3",fluid:!0,children:[a.jsx(h,{variant:"outlined",size:"small",startIcon:a.jsx(A,{}),onClick:()=>p("edit"),children:" Create"}),a.jsx(h,{variant:"outlined",size:"small",startIcon:a.jsx(j,{}),onClick:_,children:"Export"})]}),enableColumnActions:!1,enableRowActions:!0,enableColumnFilters:!1,enableFullScreenToggle:!1,visibleInShowHideMenu:!1,enableDensityToggle:!1,enableGrouping:!0,initialState:{expanded:!0,density:"compact"},enableExpanding:!0,getSubRows:e=>e.subRows,enableHiding:!1,muiTablePaperProps:{elevation:0},renderRowActionMenuItems:({closeMenu:e,row:t})=>[a.jsxs(x,{onClick:()=>{p(t),e()},children:[a.jsx(N,{}),"Edit"]},0),a.jsxs(x,{onClick:()=>{S(t),e()},children:[a.jsx(H,{}),"Delete"]},1)]});return a.jsxs(s,{fluid:!0,children:[a.jsx(s,{style:{background:"#fff",padding:12,borderRadius:4,marginBottom:12},fluid:!0,children:a.jsx(v,{children:a.jsx(F,{className:"mb-3",size:"small",disablePortal:!0,id:"cbParking",onChange:(e,t)=>{c("",0,0,t,1,1e4).then(r=>{i({type:"set",areaList:r.data.data})})},options:D,getOptionLabel:e=>`${e.ParkingName}`,isOptionEqualToValue:(e,t)=>(e==null?void 0:e.ParkingID)===(t==null?void 0:t.ParkingID),renderInput:e=>a.jsx(O,{...e,label:"ParkingSlot"})})})}),n.length==0?a.jsx(s,{children:" No Data "}):a.jsx(K,{table:R})]})};export{ce as default};
